/* ========================================
   DARK-THEME.CSS v2.7.1
   ======================================== */

/* ===== VARIÁVEIS - DEFINIDAS PRIMEIRO ===== */
/* CORREÇÃO: :root movido para o topo — variáveis precisam existir
   antes de serem usadas nas regras abaixo */
:root {
    --dark-bg-app:      #0a0a0f;
    --dark-bg-primary:  #13131a;
    --dark-bg-secondary:#1c1c24;
    --dark-bg-tertiary: #25252e;
    --dark-bg-elevated: #2d2d38;

    --dark-text-primary:   #ffffff;
    --dark-text-secondary: #e2e8f0;
    --dark-text-muted:     #94a3b8;
    --dark-text-disabled:  #64748b;

    --dark-border:       #2d2d38;
    --dark-border-light: #3a3a45;

    --dark-overlay: rgba(0, 0, 0, 0.6);
    --dark-glass:   rgba(255, 255, 255, 0.03);
}

/* ===== BASE ===== */
body.dark-theme {
    background-color: var(--dark-bg-app);
    color: var(--dark-text-primary);
}

body.dark-theme main {
    background-color: var(--dark-bg-app);
}

/* ===== SIDEBAR ===== */
body.dark-theme #sidebar {
    background: linear-gradient(
        to bottom,
        rgba(30, 27, 75, 0.95),
        rgba(49, 46, 129, 0.95),
        rgba(76, 29, 149, 0.95)
    );
    backdrop-filter: blur(10px);
    border-right: 1px solid var(--dark-border);
}

@media (max-width: 768px) {
    body.dark-theme #sidebar {
        background: linear-gradient(
            to bottom,
            rgba(30, 27, 75, 0.98),
            rgba(49, 46, 129, 0.98),
            rgba(76, 29, 149, 0.98)
        );
    }
}

/* ===== TIPOGRAFIA ===== */
body.dark-theme h1,
body.dark-theme h2,
body.dark-theme h3,
body.dark-theme h4,
body.dark-theme h5,
body.dark-theme h6 {
    color: var(--dark-text-primary);
}

body.dark-theme p,
body.dark-theme span,
body.dark-theme label {
    color: var(--dark-text-secondary);
}

body.dark-theme .text-gray-800,
body.dark-theme .text-gray-700,
body.dark-theme .text-gray-600 {
    color: var(--dark-text-secondary) !important;
}

body.dark-theme .text-gray-500 {
    color: var(--dark-text-muted) !important;
}

body.dark-theme .text-gray-400 {
    color: var(--dark-text-muted) !important;
}

body.dark-theme .text-gray-300 {
    color: var(--dark-text-secondary) !important;
}

/* Textos coloridos */
body.dark-theme .text-green-800  { color: #86efac !important; }
body.dark-theme .text-green-700  { color: #86efac !important; }
body.dark-theme .text-blue-800   { color: #93c5fd !important; }
body.dark-theme .text-blue-700   { color: #93c5fd !important; }
body.dark-theme .text-yellow-800 { color: #fde047 !important; }
body.dark-theme .text-yellow-700 { color: #fde047 !important; }
body.dark-theme .text-red-800    { color: #fca5a5 !important; }
body.dark-theme .text-red-700    { color: #fca5a5 !important; }
body.dark-theme .text-purple-800,
body.dark-theme .text-purple-900 { color: #d8b4fe !important; }
body.dark-theme .text-orange-700 { color: #fdba74 !important; }
body.dark-theme .text-indigo-800 { color: #c7d2fe !important; }

/* ===== CARDS E CONTAINERS ===== */
body.dark-theme .bg-white {
    background-color: var(--dark-bg-secondary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border) !important;
}

body.dark-theme .bg-gray-50,
body.dark-theme .bg-gray-100 {
    background-color: var(--dark-bg-tertiary) !important;
    color: var(--dark-text-secondary) !important;
}

body.dark-theme .bg-gray-200 {
    background-color: var(--dark-bg-elevated) !important;
    color: var(--dark-text-secondary) !important;
}

/* ===== INPUTS E FORMS ===== */
body.dark-theme input:not([type="checkbox"]):not([type="radio"]):not([type="range"]),
body.dark-theme textarea,
body.dark-theme select {
    background-color: var(--dark-bg-tertiary) !important;
    color: var(--dark-text-primary) !important;
    border-color: var(--dark-border-light) !important;
}

body.dark-theme input::placeholder,
body.dark-theme textarea::placeholder {
    color: var(--dark-text-muted);
    opacity: 0.7;
}

body.dark-theme input:focus,
body.dark-theme textarea:focus,
body.dark-theme select:focus {
    background-color: var(--dark-bg-elevated) !important;
    border-color: var(--theme-primary, #a855f7) !important;
    box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.15) !important;
}

body.dark-theme input[type="range"] {
    accent-color: var(--theme-primary, #a855f7);
}

body.dark-theme input[type="checkbox"] {
    accent-color: var(--theme-primary, #a855f7);
}

/* ===== BOTÕES NEUTROS ===== */
body.dark-theme button.bg-gray-200,
body.dark-theme button.bg-gray-300 {
    background-color: var(--dark-bg-elevated) !important;
    color: var(--dark-text-primary) !important;
    border: 1px solid var(--dark-border-light);
}

body.dark-theme button.bg-gray-200:hover,
body.dark-theme button.bg-gray-300:hover {
    background-color: var(--dark-bg-tertiary) !important;
}

/* CORREÇÃO: botões coloridos e gradientes NÃO são escurecidos.
   O filter global anterior afetava cards dos jogos, clima e ações */
body.dark-theme button[class*="bg-gradient-to-r"],
body.dark-theme button[class*="bg-gradient-to-br"] {
    filter: brightness(1.05) saturate(1.1);
}

body.dark-theme button[class*="bg-gradient-to-r"]:hover,
body.dark-theme button[class*="bg-gradient-to-br"]:hover {
    filter: brightness(1.15) saturate(1.2);
}

/* ===== BACKGROUNDS COLORIDOS (tints) ===== */
body.dark-theme .bg-green-50  { background-color: rgba(16, 185, 129, 0.10) !important; color: #6ee7b7 !important; border-color: rgba(16, 185, 129, 0.3) !important; }
body.dark-theme .bg-green-100 { background-color: rgba(16, 185, 129, 0.15) !important; color: #86efac !important; border-color: rgba(16, 185, 129, 0.4) !important; }
body.dark-theme .bg-blue-50   { background-color: rgba(59, 130, 246, 0.10) !important; color: #93c5fd !important; border-color: rgba(59, 130, 246, 0.3) !important; }
body.dark-theme .bg-blue-100  { background-color: rgba(59, 130, 246, 0.15) !important; color: #bfdbfe !important; border-color: rgba(59, 130, 246, 0.4) !important; }
body.dark-theme .bg-yellow-50  { background-color: rgba(234, 179, 8, 0.10) !important; color: #fde047 !important; border-color: rgba(234, 179, 8, 0.3) !important; }
body.dark-theme .bg-yellow-100 { background-color: rgba(234, 179, 8, 0.15) !important; color: #fef08a !important; border-color: rgba(234, 179, 8, 0.4) !important; }
body.dark-theme .bg-red-50   { background-color: rgba(239, 68, 68, 0.10) !important; color: #fca5a5 !important; border-color: rgba(239, 68, 68, 0.3) !important; }
body.dark-theme .bg-red-100  { background-color: rgba(239, 68, 68, 0.15) !important; color: #fecaca !important; border-color: rgba(239, 68, 68, 0.4) !important; }
body.dark-theme .bg-purple-50  { background-color: rgba(168, 85, 247, 0.10) !important; color: #d8b4fe !important; border-color: rgba(168, 85, 247, 0.3) !important; }
body.dark-theme .bg-purple-100 { background-color: rgba(168, 85, 247, 0.15) !important; color: #e9d5ff !important; border-color: rgba(168, 85, 247, 0.4) !important; }
body.dark-theme .bg-orange-50  { background-color: rgba(249, 115, 22, 0.10) !important; color: #fdba74 !important; border-color: rgba(249, 115, 22, 0.3) !important; }
body.dark-theme .bg-orange-100 { background-color: rgba(249, 115, 22, 0.15) !important; color: #fed7aa !important; border-color: rgba(249, 115, 22, 0.4) !important; }
body.dark-theme .bg-indigo-100 { background-color: rgba(99, 102, 241, 0.15) !important; color: #c7d2fe !important; }

/* ===== GRADIENTES ESPECÍFICOS (clima, jogos) ===== */
/* CORREÇÃO: removido o filter global em .bg-gradient-to-br / .bg-gradient-to-r
   que escurecia tudo. Agora só os gradientes de tint claro são convertidos */

body.dark-theme .bg-gradient-to-br.from-blue-50,
body.dark-theme div[class*="from-blue-50"] {
    background: linear-gradient(to bottom right, rgba(59,130,246,0.12), rgba(6,182,212,0.12)) !important;
    border-color: rgba(59,130,246,0.3) !important;
}

body.dark-theme .bg-gradient-to-br.from-green-50,
body.dark-theme div[class*="from-green-50"] {
    background: linear-gradient(to bottom right, rgba(16,185,129,0.12), rgba(5,150,105,0.12)) !important;
    border-color: rgba(16,185,129,0.3) !important;
}

body.dark-theme .bg-gradient-to-br.from-yellow-50,
body.dark-theme div[class*="from-yellow-50"] {
    background: linear-gradient(to bottom right, rgba(234,179,8,0.12), rgba(249,115,22,0.12)) !important;
}

body.dark-theme .bg-gradient-to-br.from-red-50,
body.dark-theme div[class*="from-red-50"] {
    background: linear-gradient(to bottom right, rgba(239,68,68,0.12), rgba(236,72,153,0.12)) !important;
}

body.dark-theme .bg-gradient-to-br.from-purple-50,
body.dark-theme div[class*="from-purple-50"] {
    background: linear-gradient(to bottom right, rgba(168,85,247,0.12), rgba(236,72,153,0.12)) !important;
}

body.dark-theme .bg-gradient-to-br.from-gray-50,
body.dark-theme div[class*="from-gray-50"] {
    background: linear-gradient(to bottom right, var(--dark-bg-tertiary), var(--dark-bg-elevated)) !important;
}

/* Cards de tema claro/escuro nas configurações */
body.dark-theme .bg-gradient-to-br.from-white,
body.dark-theme button[class*="from-white"] {
    background: linear-gradient(to bottom right, var(--dark-bg-tertiary), var(--dark-bg-elevated)) !important;
    color: var(--dark-text-primary) !important;
}

body.dark-theme .bg-gradient-to-br.from-gray-800,
body.dark-theme button[class*="from-gray-800"] {
    background: linear-gradient(to bottom right, #0a0a0f, #13131a) !important;
}

/* Labels de checkboxes coloridos (gerador de senhas) */
body.dark-theme label[class*="from-blue-50"]   { background: linear-gradient(to bottom right, rgba(59,130,246,0.15), rgba(6,182,212,0.15)) !important; border-color: rgba(59,130,246,0.3) !important; }
body.dark-theme label[class*="from-green-50"]  { background: linear-gradient(to bottom right, rgba(16,185,129,0.15), rgba(5,150,105,0.15)) !important; border-color: rgba(16,185,129,0.3) !important; }
body.dark-theme label[class*="from-purple-50"] { background: linear-gradient(to bottom right, rgba(168,85,247,0.15), rgba(236,72,153,0.15)) !important; border-color: rgba(168,85,247,0.3) !important; }
body.dark-theme label[class*="from-orange-50"] { background: linear-gradient(to bottom right, rgba(249,115,22,0.15), rgba(239,68,68,0.15)) !important; border-color: rgba(249,115,22,0.3) !important; }

/* ===== BORDAS ===== */
body.dark-theme .border-gray-200,
body.dark-theme .border-gray-300 { border-color: var(--dark-border) !important; }
body.dark-theme .border-gray-400  { border-color: var(--dark-border-light) !important; }
body.dark-theme .border-blue-200,
body.dark-theme .border-blue-300  { border-color: rgba(59,130,246,0.3) !important; }
body.dark-theme .border-green-200,
body.dark-theme .border-green-300 { border-color: rgba(16,185,129,0.3) !important; }
body.dark-theme .border-purple-500 { border-color: var(--theme-primary, #a855f7) !important; }
body.dark-theme .border-4.border-purple-500 { border-color: var(--theme-primary, #a855f7) !important; }

/* ===== SOMBRAS ===== */
body.dark-theme .shadow-lg  { box-shadow: 0 10px 25px -5px rgba(0,0,0,0.7), 0 8px 10px -6px rgba(0,0,0,0.6) !important; }
body.dark-theme .shadow-xl  { box-shadow: 0 20px 35px -5px rgba(0,0,0,0.8), 0 10px 15px -3px rgba(0,0,0,0.7) !important; }
body.dark-theme .shadow-2xl { box-shadow: 0 25px 50px -12px rgba(0,0,0,0.9) !important; }
body.dark-theme .shadow-inner { box-shadow: inset 0 2px 4px 0 rgba(0,0,0,0.3) !important; }

/* ===== HOVER NOS TOOL CARDS ===== */
body.dark-theme .tool-card:hover {
    background-color: var(--dark-bg-elevated) !important;
    border-color: var(--theme-primary, #a855f7) !important;
    box-shadow: 0 10px 40px -5px rgba(168, 85, 247, 0.3) !important;
}

/* ===== GLASS EFFECT ===== */
body.dark-theme .glass,
body.dark-theme .glass-effect {
    background: rgba(255,255,255,0.03) !important;
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.05);
}

body.dark-theme .bg-white\/90 {
    background-color: rgba(28,28,36,0.95) !important;
    backdrop-filter: blur(20px);
    border-color: var(--dark-border-light) !important;
}

body.dark-theme .bg-white\/20 { background-color: rgba(255,255,255,0.10) !important; }
body.dark-theme .bg-white\/10 { background-color: rgba(255,255,255,0.08) !important; }
body.dark-theme .bg-white\/5  { background-color: rgba(255,255,255,0.05) !important; }

/* Efeitos de blur decorativos reduzidos no dark */
body.dark-theme .blur-3xl { opacity: 0.10 !important; }
body.dark-theme .blur-2xl { opacity: 0.12 !important; }
body.dark-theme .blur-xl  { opacity: 0.15 !important; }

/* ===== NOTIFICAÇÕES ===== */
body.dark-theme #notifications-container > div {
    background: var(--dark-bg-secondary) !important;
    border: 1px solid var(--dark-border-light);
    backdrop-filter: blur(20px);
    color: var(--dark-text-primary) !important;
}

/* ===== SCROLLBAR ===== */
body.dark-theme ::-webkit-scrollbar       { width: 10px; height: 10px; }
body.dark-theme ::-webkit-scrollbar-track { background: var(--dark-bg-primary); }
body.dark-theme ::-webkit-scrollbar-thumb {
    background: var(--dark-bg-elevated);
    border-radius: 5px;
    border: 2px solid var(--dark-bg-primary);
}
body.dark-theme ::-webkit-scrollbar-thumb:hover { background: var(--dark-border-light); }

/* ===== LINKS ===== */
body.dark-theme a       { color: var(--theme-primary, #a855f7); }
body.dark-theme a:hover { color: var(--theme-primary-light, #c084fc); }

/* ===== TABELAS ===== */
body.dark-theme table { border-color: var(--dark-border); }
body.dark-theme th    { background-color: var(--dark-bg-tertiary); color: var(--dark-text-primary); }
body.dark-theme td    { border-color: var(--dark-border); color: var(--dark-text-secondary); }
body.dark-theme tr:hover { background-color: var(--dark-bg-elevated); }

/* ===== CÓDIGO ===== */
body.dark-theme pre,
body.dark-theme code {
    background-color: var(--dark-bg-primary) !important;
    color: #e2e8f0;
    border: 1px solid var(--dark-border);
}

/* ===== MODAIS ===== */
body.dark-theme [role="dialog"],
body.dark-theme .modal {
    background-color: var(--dark-bg-secondary);
    border: 1px solid var(--dark-border-light);
    box-shadow: 0 25px 50px -12px rgba(0,0,0,0.9);
}

/* ===== HR ===== */
body.dark-theme hr { border-color: var(--dark-border); opacity: 0.5; }

/* ===== SELEÇÃO DE TEXTO ===== */
body.dark-theme ::selection {
    background-color: rgba(168, 85, 247, 0.3);
    color: var(--dark-text-primary);
}

/* ===== DISABLED ===== */
body.dark-theme input:disabled,
body.dark-theme button:disabled,
body.dark-theme textarea:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background-color: var(--dark-bg-primary) !important;
    color: var(--dark-text-disabled) !important;
}

/* ===== FOCUS ===== */
body.dark-theme *:focus-visible {
    outline: 2px solid var(--theme-primary, #a855f7);
    outline-offset: 2px;
}

/* ===== SVG ===== */
body.dark-theme svg { color: var(--dark-text-muted); }
body.dark-theme svg line,
body.dark-theme svg circle { stroke: currentColor; }

/* CORREÇÃO: transition aplicada só nas propriedades necessárias,
   apenas nos elementos que realmente precisam — o * anterior
   causava flickering e era muito pesado */
body.dark-theme .bg-white,
body.dark-theme .bg-gray-50,
body.dark-theme .bg-gray-100,
body.dark-theme .bg-gray-200,
body.dark-theme input,
body.dark-theme textarea,
body.dark-theme select,
body.dark-theme .tool-card {
    transition: background-color 200ms cubic-bezier(0.4,0,0.2,1),
                border-color     200ms cubic-bezier(0.4,0,0.2,1),
                color            200ms cubic-bezier(0.4,0,0.2,1);
}

/* ========================================
   MÓDULOS ESPECÍFICOS
   ======================================== */

/* ===== AI CHAT ===== */
body.dark-theme #chat-container {
    background: linear-gradient(to bottom right, var(--dark-bg-primary), rgba(59,130,246,0.08)) !important;
}

body.dark-theme #chat-container .text-gray-400 { color: var(--dark-text-muted) !important; }
body.dark-theme #chat-container .text-gray-700 { color: var(--dark-text-primary) !important; }
body.dark-theme #chat-container .text-gray-500 { color: var(--dark-text-secondary) !important; }

/* Balão de mensagem da IA */
body.dark-theme #chat-container .bg-white.border-2 {
    background-color: var(--dark-bg-tertiary) !important;
    border-color: var(--dark-border-light) !important;
    color: var(--dark-text-primary) !important;
}

/* ===== CLIMA ===== */
body.dark-theme #weather-result .bg-white\/10,
body.dark-theme #weather-result .bg-white\/20 { background-color: rgba(255,255,255,0.08) !important; }
body.dark-theme #weather-result .bg-white\/5  { background-color: rgba(255,255,255,0.05) !important; }

/* Status de tradução */
body.dark-theme #translation-status .text-blue-600   { color: #60a5fa !important; }
body.dark-theme #translation-status .text-green-600  { color: #34d399 !important; }
body.dark-theme #translation-status .text-yellow-600 { color: #fbbf24 !important; }
body.dark-theme #translation-status .text-red-600    { color: #f87171 !important; }

/* ===== GERADOR DE SENHAS ===== */
body.dark-theme input[type="range"]::-webkit-slider-thumb {
    background-color: var(--theme-primary, #a855f7);
}

/* ===== CONFIGURAÇÕES ===== */
body.dark-theme .border-3 { border-width: 2px; }

/* ========================================
   TERMO E FORCA — CORES DOS JOGOS
   MÁXIMA PRIORIDADE — NUNCA ALTERAR
   ======================================== */

/* Células com data-status são os resultados do Termo.
   Esses seletores têm a maior especificidade do arquivo
   para garantir que o dark theme nunca sobrescreva as cores do jogo */

.termo-cell[data-status="correct"],
body.dark-theme .termo-cell[data-status="correct"],
body.dark-theme .aspect-square.bg-green-500 {
    background-color: #10b981 !important;
    background: #10b981 !important;
    color: white !important;
    filter: none !important;
}

.termo-cell[data-status="present"],
body.dark-theme .termo-cell[data-status="present"],
body.dark-theme .aspect-square.bg-yellow-500 {
    background-color: #eab308 !important;
    background: #eab308 !important;
    color: white !important;
    filter: none !important;
}

.termo-cell[data-status="absent"],
body.dark-theme .termo-cell[data-status="absent"],
body.dark-theme .aspect-square.bg-gray-400 {
    background-color: #64748b !important;
    background: #64748b !important;
    color: white !important;
    filter: none !important;
}

/* Células vazias no dark */
body.dark-theme .aspect-square.bg-white:not([data-status]) {
    background-color: var(--dark-bg-tertiary) !important;
    border-color: var(--dark-border-light) !important;
    color: var(--dark-text-primary) !important;
}

body.dark-theme .aspect-square.bg-gray-200:not([data-status]) {
    background-color: var(--dark-bg-elevated) !important;
    color: var(--dark-text-primary) !important;
}

/* Teclado do Termo */
body.dark-theme button.bg-green-500  { background-color: #10b981 !important; color: white !important; filter: none !important; }
body.dark-theme button.bg-yellow-500 { background-color: #eab308 !important; color: white !important; filter: none !important; }
body.dark-theme button.bg-gray-400   { background-color: #64748b !important; color: white !important; filter: none !important; }

body.dark-theme button.bg-indigo-500 {
    background-color: #6366f1 !important;
    color: white !important;
}

/* Seleção de célula */
body.dark-theme .aspect-square.border-blue-500 { border-color: #3b82f6 !important; }
body.dark-theme .aspect-square.ring-blue-200   { --tw-ring-color: rgba(59,130,246,0.3) !important; }

/* Legenda do Termo */
body.dark-theme .bg-gradient-to-br.from-gray-50.to-gray-100 {
    background: linear-gradient(to bottom right, var(--dark-bg-tertiary), var(--dark-bg-elevated)) !important;
}

/* Forca - card de dica */
body.dark-theme .bg-gradient-to-br.from-blue-50.to-cyan-50 {
    background: linear-gradient(to bottom right, rgba(59,130,246,0.12), rgba(6,182,212,0.12)) !important;
    border-color: rgba(59,130,246,0.3) !important;
}

body.dark-theme .bg-gradient-to-br.from-purple-50.to-pink-50 {
    background: linear-gradient(to bottom right, rgba(168,85,247,0.12), rgba(236,72,153,0.12)) !important;
}


/* ========================================
   NOTAS — CARDS COLORIDOS
   ======================================== */

/* Texto dentro dos cards de nota no dark */
body.dark-theme .note-card .note-title {
    color: #1e1e2e !important;
}

body.dark-theme .note-card .note-body,
body.dark-theme .note-card .note-meta {
    color: #2d2d3f !important;
}

body.dark-theme .note-card .note-border {
    border-color: rgba(0, 0, 0, 0.15) !important;
}

/* Versões mais escuras dos gradientes para legibilidade no dark */
body.dark-theme .note-card[data-color="yellow"] {
    background: linear-gradient(to bottom right, #fbbf24, #f97316) !important;
    border-color: #d97706 !important;
}

body.dark-theme .note-card[data-color="blue"] {
    background: linear-gradient(to bottom right, #60a5fa, #22d3ee) !important;
    border-color: #2563eb !important;
}

body.dark-theme .note-card[data-color="green"] {
    background: linear-gradient(to bottom right, #34d399, #10b981) !important;
    border-color: #059669 !important;
}

body.dark-theme .note-card[data-color="purple"] {
    background: linear-gradient(to bottom right, #c084fc, #f472b6) !important;
    border-color: #9333ea !important;
}

body.dark-theme .note-card[data-color="red"] {
    background: linear-gradient(to bottom right, #f87171, #fb7185) !important;
    border-color: #dc2626 !important;
}

/* ========================================
   TECNOLOGIAS (Sobre) — CARDS
   ======================================== */

body.dark-theme .tech-card {
    background-color: var(--dark-bg-tertiary) !important;
    border: 1px solid var(--dark-border-light);
}

body.dark-theme .tech-card[data-tech-color="blue"]   { border-color: rgba(59,130,246,0.4) !important; }
body.dark-theme .tech-card[data-tech-color="sky"]    { border-color: rgba(14,165,233,0.4) !important; }
body.dark-theme .tech-card[data-tech-color="yellow"] { border-color: rgba(234,179,8,0.4) !important; }
body.dark-theme .tech-card[data-tech-color="green"]  { border-color: rgba(16,185,129,0.4) !important; }
body.dark-theme .tech-card[data-tech-color="orange"] { border-color: rgba(249,115,22,0.4) !important; }
body.dark-theme .tech-card[data-tech-color="purple"] { border-color: rgba(168,85,247,0.4) !important; }

body.dark-theme .tech-card .tech-card-title {
    color: var(--dark-text-primary) !important;
}

body.dark-theme .tech-card .tech-card-sub {
    color: var(--dark-text-muted) !important;
}

/* ========================================
   GERADOR DE SENHAS — CARDS DE OPÇÃO
   ======================================== */

body.dark-theme .option-card {
    background-color: var(--dark-bg-tertiary) !important;
    border-color: var(--dark-border-light) !important;
}

body.dark-theme .option-card .option-card-title {
    color: var(--dark-text-primary) !important;
}

body.dark-theme .option-card .option-card-sub {
    color: var(--dark-text-muted) !important;
}

body.dark-theme .option-card .option-card-example {
    color: var(--dark-text-secondary) !important;
}

/* Quando selecionado (peer-checked) no dark — fundo mais visível */
body.dark-theme .option-card.peer-checked\:bg-gradient-to-br,
body.dark-theme input:checked ~ .option-card {
    background: var(--dark-bg-elevated) !important;
}

/* ========================================
   FIXES v2.7.1 — NOTES, PASSWORD, SETTINGS
   ======================================== */

/* ===== NOTAS RÁPIDAS =====
   Cards usam from-yellow-100/green-100/blue-100 etc com text-gray-800.
   No dark, o fundo vira rgba(0.15) mas o texto ficava da cor do tint.
   Solução: forçar texto escuro legível dentro de qualquer card de nota */

body.dark-theme .bg-gradient-to-br[class*="from-yellow-100"],
body.dark-theme .bg-gradient-to-br[class*="from-orange-100"],
body.dark-theme .bg-gradient-to-br[class*="from-green-100"],
body.dark-theme .bg-gradient-to-br[class*="from-emerald-100"],
body.dark-theme .bg-gradient-to-br[class*="from-blue-100"],
body.dark-theme .bg-gradient-to-br[class*="from-cyan-100"],
body.dark-theme .bg-gradient-to-br[class*="from-purple-100"],
body.dark-theme .bg-gradient-to-br[class*="from-pink-100"],
body.dark-theme .bg-gradient-to-br[class*="from-red-100"],
body.dark-theme .bg-gradient-to-br[class*="from-rose-100"] {
    background: var(--dark-bg-secondary) !important;
    border-color: var(--dark-border-light) !important;
}

/* Textos dentro dos cards de notas */
body.dark-theme .bg-gradient-to-br[class*="from-yellow-100"] h3,
body.dark-theme .bg-gradient-to-br[class*="from-yellow-100"] p,
body.dark-theme .bg-gradient-to-br[class*="from-yellow-100"] span,
body.dark-theme .bg-gradient-to-br[class*="from-orange-100"] h3,
body.dark-theme .bg-gradient-to-br[class*="from-orange-100"] p,
body.dark-theme .bg-gradient-to-br[class*="from-orange-100"] span,
body.dark-theme .bg-gradient-to-br[class*="from-green-100"] h3,
body.dark-theme .bg-gradient-to-br[class*="from-green-100"] p,
body.dark-theme .bg-gradient-to-br[class*="from-green-100"] span,
body.dark-theme .bg-gradient-to-br[class*="from-emerald-100"] h3,
body.dark-theme .bg-gradient-to-br[class*="from-emerald-100"] p,
body.dark-theme .bg-gradient-to-br[class*="from-emerald-100"] span,
body.dark-theme .bg-gradient-to-br[class*="from-blue-100"] h3,
body.dark-theme .bg-gradient-to-br[class*="from-blue-100"] p,
body.dark-theme .bg-gradient-to-br[class*="from-blue-100"] span,
body.dark-theme .bg-gradient-to-br[class*="from-purple-100"] h3,
body.dark-theme .bg-gradient-to-br[class*="from-purple-100"] p,
body.dark-theme .bg-gradient-to-br[class*="from-purple-100"] span,
body.dark-theme .bg-gradient-to-br[class*="from-red-100"] h3,
body.dark-theme .bg-gradient-to-br[class*="from-red-100"] p,
body.dark-theme .bg-gradient-to-br[class*="from-red-100"] span,
body.dark-theme .bg-gradient-to-br[class*="from-rose-100"] h3,
body.dark-theme .bg-gradient-to-br[class*="from-rose-100"] p,
body.dark-theme .bg-gradient-to-br[class*="from-rose-100"] span {
    color: var(--dark-text-primary) !important;
}

/* Linha separadora no rodapé do card de nota */
body.dark-theme .bg-gradient-to-br[class*="-100"] .border-gray-300 {
    border-color: var(--dark-border-light) !important;
}

/* ===== GERADOR DE SENHAS =====
   peer-checked: é uma pseudo-classe do Tailwind que não é pegas
   pelos seletores normais de dark theme. Solução: sobrescrever
   diretamente os backgrounds e textos dos option cards */

/* Card quando checkbox está marcado — fundo dark com borda colorida */
body.dark-theme label.bg-gradient-to-br {
    background: var(--dark-bg-tertiary) !important;
    color: var(--dark-text-primary) !important;
}

body.dark-theme label.bg-gradient-to-br .text-gray-800,
body.dark-theme label.bg-gradient-to-br .font-black,
body.dark-theme label.bg-gradient-to-br div {
    color: var(--dark-text-primary) !important;
}

body.dark-theme label.bg-gradient-to-br .text-gray-600,
body.dark-theme label.bg-gradient-to-br .text-gray-500 {
    color: var(--dark-text-muted) !important;
}

/* Força o texto dentro de qualquer label-card a ficar legível */
body.dark-theme label .text-gray-800 { color: var(--dark-text-primary) !important; }
body.dark-theme label .text-gray-600 { color: var(--dark-text-muted) !important; }
body.dark-theme label .text-gray-500 { color: var(--dark-text-muted) !important; }

/* Badge "ATIVO" colorido — mantém cor vibrante */
body.dark-theme label .bg-blue-600,
body.dark-theme label .bg-green-600,
body.dark-theme label .bg-purple-600,
body.dark-theme label .bg-orange-600 {
    filter: brightness(1.1) !important;
}

/* Ícones nos option cards */
body.dark-theme label .bg-blue-500,
body.dark-theme label .bg-green-500,
body.dark-theme label .bg-purple-500,
body.dark-theme label .bg-orange-500 {
    filter: brightness(1.1) !important;
}

/* Histórico de senhas */
body.dark-theme #password-history .bg-white {
    background-color: var(--dark-bg-tertiary) !important;
    border-color: var(--dark-border-light) !important;
}

body.dark-theme #password-history code {
    color: var(--dark-text-primary) !important;
    background: transparent !important;
    border: none !important;
}

/* ===== SETTINGS — CARDS DE TECNOLOGIAS =====
   Cards usam bg-${color}-50 dinâmico. O cyan-50 não estava coberto.
   Cobrindo todos os -50 que podem aparecer nos tech cards */

body.dark-theme .bg-cyan-50    { background-color: rgba(6,182,212,0.10) !important;  color: #67e8f9 !important; border-color: rgba(6,182,212,0.3) !important; }
body.dark-theme .bg-teal-50    { background-color: rgba(20,184,166,0.10) !important; color: #5eead4 !important; border-color: rgba(20,184,166,0.3) !important; }
body.dark-theme .bg-pink-50    { background-color: rgba(236,72,153,0.10) !important; color: #f9a8d4 !important; border-color: rgba(236,72,153,0.3) !important; }
body.dark-theme .bg-rose-50    { background-color: rgba(244,63,94,0.10) !important;  color: #fda4af !important; border-color: rgba(244,63,94,0.3) !important; }
body.dark-theme .bg-emerald-50 { background-color: rgba(16,185,129,0.10) !important; color: #6ee7b7 !important; border-color: rgba(16,185,129,0.3) !important; }
body.dark-theme .bg-lime-50    { background-color: rgba(132,204,22,0.10) !important; color: #bef264 !important; border-color: rgba(132,204,22,0.3) !important; }
body.dark-theme .bg-sky-50     { background-color: rgba(14,165,233,0.10) !important; color: #7dd3fc !important; border-color: rgba(14,165,233,0.3) !important; }
body.dark-theme .bg-violet-50  { background-color: rgba(139,92,246,0.10) !important; color: #c4b5fd !important; border-color: rgba(139,92,246,0.3) !important; }
body.dark-theme .bg-fuchsia-50 { background-color: rgba(217,70,239,0.10) !important; color: #f0abfc !important; border-color: rgba(217,70,239,0.3) !important; }
body.dark-theme .bg-amber-50   { background-color: rgba(245,158,11,0.10) !important; color: #fcd34d !important; border-color: rgba(245,158,11,0.3) !important; }

/* Textos dentro dos tech cards */
body.dark-theme [class*="bg-"][class*="-50"] .font-bold,
body.dark-theme [class*="bg-"][class*="-50"] .text-gray-800 {
    color: var(--dark-text-primary) !important;
}

body.dark-theme [class*="bg-"][class*="-50"] .text-gray-600,
body.dark-theme [class*="bg-"][class*="-50"] .text-xs {
    color: var(--dark-text-muted) !important;
}

/* ===== SETTINGS — BADGE "v2.x" EM CARDS DE TECNOLOGIAS =====
   bg-white com text-gray-800 dentro dos cards coloridos */
body.dark-theme .bg-white.text-gray-800 {
    background-color: var(--dark-bg-elevated) !important;
    color: var(--dark-text-primary) !important;
}