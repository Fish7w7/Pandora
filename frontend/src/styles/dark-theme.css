/* ========================================
   TEMA ESCURO - NyanTools にゃん~
   VERSÃO REFEITA E CORRIGIDA (v2)
   ======================================== */

/* Aplicar tema escuro */
body.dark-theme {
    background-color: #0f172a;
    color: #e2e8f0;
}

/* ===== SIDEBAR ===== */
body.dark-theme #sidebar {
    background: linear-gradient(to bottom, #1e1b4b, #312e81, #4c1d95);
}

/* ===== MAIN CONTENT ===== */
body.dark-theme main {
    background-color: #0f172a;
}

/* ===== CARDS E CONTAINERS (Padrão) ===== */
/* Converte fundos brancos/cinzas claros para escuros */
body.dark-theme .bg-white,
body.dark-theme .bg-gray-50,
body.dark-theme .bg-gray-100,
body.dark-theme .bg-gray-200,
body.dark-theme .bg-gradient-to-br.from-white.to-gray-100 {
    background: #1e293b !important;
    color: #f1f5f9 !important;
}

/* Garante que o texto dentro dos cards acima também fique claro */
body.dark-theme .bg-white *,
body.dark-theme .bg-gray-50 *,
body.dark-theme .bg-gray-100 *,
body.dark-theme .bg-gray-200 *,
body.dark-theme .bg-gradient-to-br.from-white.to-gray-100 * {
    color: #f1f5f9 !important;
}

/* ===== TEXTO GERAL ===== */
body.dark-theme h1,
body.dark-theme h2,
body.dark-theme h3,
body.dark-theme h4,
body.dark-theme h5,
body.dark-theme h6 {
    color: #f1f5f9 !important;
}

/* Esta é a regra global que causa problemas de legibilidade */
body.dark-theme p,
body.dark-theme span,
body.dark-theme div,
body.dark-theme label {
    color: #cbd5e1 !important;
}

/* Inverte cores de texto cinza */
body.dark-theme .text-gray-800,
body.dark-theme .text-gray-700,
body.dark-theme .text-gray-600 {
    color: #cbd5e1 !important;
}

/* Inverte cores de texto específicas */
body.dark-theme .text-green-800 {
    color: #86efac !important;
}
body.dark-theme .text-blue-800 {
    color: #93c5fd !important;
}
body.dark-theme .text-yellow-800 {
    color: #fde047 !important;
}
body.dark-theme .text-red-700,
body.dark-theme .text-red-800 {
    color: #fca5a5 !important;
}


/* ===== INPUTS ===== */
body.dark-theme input,
body.dark-theme textarea,
body.dark-theme select {
    background-color: #334155 !important;
    color: #f1f5f9 !important;
    border-color: #475569 !important;
}

body.dark-theme input::placeholder,
body.dark-theme textarea::placeholder {
    color: #94a3b8 !important;
}

/* ===== BOTÕES ===== */
body.dark-theme button {
    color: inherit;
}

body.dark-theme button.bg-gray-200,
body.dark-theme button.bg-gray-300 {
    background-color: #334155 !important;
    color: #f1f5f9 !important;
}

/* Teclado (Termo/Forca) */
body.dark-theme button[class*="bg-indigo"],
body.dark-theme button[class*="bg-blue"] {
    color: #ffffff !important;
}

/* ===== TERMO - FIX ===== */
/* Manter cores do Termo (Verde, Amarelo, Cinza) */
body.dark-theme .bg-green-500 {
    background-color: #22c55e !important;
    color: #ffffff !important;
}
body.dark-theme .bg-yellow-500 {
    background-color: #eab308 !important;
    color: #000000 !important;
}
body.dark-theme .bg-gray-400 {
    background-color: #64748b !important;
    color: #ffffff !important;
}
/* Grid e legenda do Termo */
body.dark-theme .bg-gradient-to-br.from-gray-50 {
    background: #1e293b !important;
}
body.dark-theme .bg-gradient-to-br.from-gray-50 * {
    color: #cbd5e1 !important;
}

/* ===== CARDS DE FERRAMENTAS ===== */
body.dark-theme .tool-card {
    background-color: #1e293b !important;
    border: 1px solid #334155;
}
body.dark-theme .tool-card:hover {
    background-color: #334155 !important;
}

/* ===== BORDAS E SOMBRAS ===== */
body.dark-theme .border-gray-200,
body.dark-theme .border-gray-300 {
    border-color: #475569 !important;
}
body.dark-theme .shadow-lg,
body.dark-theme .shadow-xl,
body.dark-theme .shadow-22xl {
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5) !important;
}

/* ===== SCROLLBAR ===== */
body.dark-theme ::-webkit-scrollbar-track {
    background: #1e293b;
}
body.dark-theme ::-webkit-scrollbar-thumb {
    background: #475569;
    border-radius: 4px;
}
body.dark-theme ::-webkit-scrollbar-thumb:hover {
    background: #64748b;
}

/* ===== TRANSIÇÃO SUAVE ===== */
body.dark-theme * {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}


/* ===================================================================
   FIX PRINCIPAL DE LEGIBILIDADE (v2)
   
   Problema: Elementos com fundos claros (ex: bg-green-50, bg-red-50)
   ficam ilegíveis porque a regra global força o texto a ficar claro.
   
   Solução: Usar seletores de *alta especificidade* para forçar
   o texto DENTRO desses elementos a ser escuro, garantindo contraste.
   =================================================================== */

/* --- VERDE (Tradutor, Gerador de Senha, Gerenciar Dados) --- */
body.dark-theme .bg-green-50 p,
body.dark-theme .bg-green-50 span,
body.dark-theme .bg-green-50 div,
body.dark-theme .bg-green-50 h1,
body.dark-theme .bg-green-50 h2,
body.dark-theme .bg-green-50 h3,
body.dark-theme .bg-green-100 p,
body.dark-theme .bg-green-100 span,
body.dark-theme .bg-green-100 div {
    color: #166534 !important; /* Verde Escuro */
}
/* Fix para placeholder do Tradutor */
body.dark-theme textarea.bg-green-50::placeholder,
body.dark-theme input.bg-green-50::placeholder {
     color: #15803d !important;
}

/* --- VERMELHO (Gerenciar Dados, Forca) --- */
body.dark-theme .bg-red-50 p,
body.dark-theme .bg-red-50 span,
body.dark-theme .bg-red-50 div,
body.dark-theme .bg-red-50 h1,
body.dark-theme .bg-red-50 h2,
body.dark-theme .bg-red-50 h3,
body.dark-theme .bg-red-100 p,
body.dark-theme .bg-red-100 span,
body.dark-theme .bg-red-100 div {
    color: #991b1b !important; /* Vermelho Escuro */
}

/* --- LARANJA (Gerador de Senha) --- */
body.dark-theme .bg-orange-50 p,
body.dark-theme .bg-orange-50 span,
body.dark-theme .bg-orange-50 div,
body.dark-theme .bg-orange-50 h1,
body.dark-theme .bg-orange-50 h2,
body.dark-theme .bg-orange-50 h3 {
    color: #9a3412 !important; /* Laranja Escuro */
}

/* --- AMARELO (Forca, Configurações) --- */
body.dark-theme .bg-yellow-50 p,
body.dark-theme .bg-yellow-50 span,
body.dark-theme .bg-yellow-50 div,
body.dark-theme .bg-yellow-100 p,
body.dark-theme .bg-yellow-100 span,
body.dark-theme .bg-yellow-100 div {
    color: #854d0e !important; /* Amarelo Escuro */
}
body.dark-theme textarea.bg-yellow-50::placeholder,
body.dark-theme input.bg-yellow-50::placeholder {
     color: #854d0e !important;
}

/* --- AZUL (Gerador de Senha, Configurações) --- */
body.dark-theme .bg-blue-50 p,
body.dark-theme .bg-blue-50 span,
body.dark-theme .bg-blue-50 div,
body.dark-theme .bg-blue-100 p,
body.dark-theme .bg-blue-100 span,
body.dark-theme .bg-blue-100 div {
    color: #1e40af !important; /* Azul Escuro */
}

/* --- ROXO / ÍNDIGO (Gerador de Senha, Forca) --- */
body.dark-theme .bg-purple-50 p,
body.dark-theme .bg-purple-50 span,
body.dark-theme .bg-purple-50 div,
body.dark-theme .bg-purple-100 p,
body.dark-theme .bg-purple-100 span,
body.dark-theme .bg-purple-100 div {
    color: #581c87 !important; /* Roxo Escuro */
}
body.dark-theme .bg-indigo-50 p,
body.dark-theme .bg-indigo-50 span,
body.dark-theme .bg-indigo-50 div,
body.dark-theme .bg-indigo-100 p,
body.dark-theme .bg-indigo-100 span,
body.dark-theme .bg-indigo-100 div {
    color: #312e81 !important; /* Índigo Escuro */
}

/* --- GRADIENTES ESPECÍFICOS (Forca, etc) --- */
/* Alguns gradientes são melhor invertidos */
body.dark-theme .bg-gradient-to-br.from-blue-50 {
    background: #1e3a5f !important;
}
body.dark-theme .bg-gradient-to-br.from-blue-50 * {
    color: #e0f2fe !important;
}
body.dark-theme .bg-gradient-to-br.from-purple-50 {
    background: #2e1e4d !important;
}
body.dark-theme .bg-gradient-to-br.from-purple-50 * {
    color: #f3e8ff !important;
}